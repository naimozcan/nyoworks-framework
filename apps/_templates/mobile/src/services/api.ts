// ═══════════════════════════════════════════════════════════════════════════════
// API Service
// ═══════════════════════════════════════════════════════════════════════════════

import { getApi } from "@nyoworks/api-client/vanilla"
import * as SecureStore from "expo-secure-store"

// ─────────────────────────────────────────────────────────────────────────────
// Constants
// ─────────────────────────────────────────────────────────────────────────────

const TOKEN_KEY = "auth-token"

// ─────────────────────────────────────────────────────────────────────────────
// Get Auth Token
// ─────────────────────────────────────────────────────────────────────────────

export async function getAuthToken(): Promise<string | null> {
  try {
    return await SecureStore.getItemAsync(TOKEN_KEY)
  } catch {
    return null
  }
}

// ─────────────────────────────────────────────────────────────────────────────
// API Client
// ─────────────────────────────────────────────────────────────────────────────

export function api() {
  return getApi()
}
