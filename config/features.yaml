# ═══════════════════════════════════════════════════════════════════════════════
# NYOWORKS Feature Modules
# ═══════════════════════════════════════════════════════════════════════════════

# Core modules (always included, cannot be disabled):
# - auth (JWT + Argon2id)
# - multi-tenancy (RLS)
# - rbac (roles/permissions)
# - i18n (TR/EN/NL)
# - theme (dark/light)

# ─────────────────────────────────────────────────────────────────────────────
# Feature Modules (Lead agent asks which ones to use, deletes unused)
# ─────────────────────────────────────────────────────────────────────────────

features:
  - id: payments
    name: Payment Processing
    description: Stripe integration for subscriptions and one-time payments
    category: billing
    complexity: high
    files:
      - packages/features/payments/
      - packages/database/src/schema/payments.ts
      - packages/validators/src/payments.ts
      - apps/api/src/routes/payments/

  - id: appointments
    name: Appointment Scheduling
    description: Booking and scheduling system with calendar integration
    category: scheduling
    complexity: medium
    files:
      - packages/features/appointments/
      - packages/database/src/schema/appointments.ts
      - packages/validators/src/appointments.ts
      - apps/api/src/routes/appointments/

  - id: analytics
    name: Analytics & Reporting
    description: Dashboards and data visualization
    category: insights
    complexity: medium
    files:
      - packages/features/analytics/
      - packages/database/src/schema/analytics.ts
      - packages/validators/src/analytics.ts
      - apps/api/src/routes/analytics/

  - id: notifications
    name: Notifications
    description: Push notifications and email alerts
    category: communication
    complexity: medium
    files:
      - packages/features/notifications/
      - packages/database/src/schema/notifications.ts
      - packages/validators/src/notifications.ts
      - apps/api/src/routes/notifications/

  - id: audit
    name: Audit Logging
    description: Activity tracking and audit trail
    category: compliance
    complexity: low
    files:
      - packages/features/audit/
      - packages/database/src/schema/audit.ts
      - packages/validators/src/audit.ts
      - apps/api/src/routes/audit/

  - id: export
    name: Data Export
    description: CSV and PDF export functionality
    category: utility
    complexity: low
    files:
      - packages/features/export/
      - apps/api/src/routes/export/

  - id: realtime
    name: Real-time Features
    description: WebSocket connections and live updates
    category: communication
    complexity: medium
    files:
      - packages/features/realtime/
      - apps/api/src/routes/realtime/

  - id: invoicing
    name: Invoicing & E-Invoice
    description: UBL/Peppol e-fatura, TR e-Arsiv, recurring billing
    category: billing
    complexity: high
    files:
      - packages/features/invoicing/
      - packages/database/src/schema/invoicing.ts
      - packages/validators/src/invoicing.ts
      - apps/api/src/routes/invoicing/

  - id: file-storage
    name: File Storage
    description: S3-compatible file uploads and document management
    category: utility
    complexity: medium
    files:
      - packages/features/file-storage/
      - packages/database/src/schema/files.ts
      - packages/validators/src/files.ts
      - apps/api/src/routes/files/

  - id: queue
    name: Background Jobs
    description: BullMQ async processing for heavy tasks
    category: infrastructure
    complexity: low
    files:
      - packages/features/queue/
      - apps/api/src/routes/jobs/

  - id: crm-contacts
    name: CRM Contacts
    description: Contact and company management for CRM/ERP systems
    category: crm
    complexity: medium
    files:
      - packages/features/crm-contacts/
      - packages/database/src/schema/contacts.ts
      - packages/database/src/schema/companies.ts
      - packages/validators/src/contacts.ts
      - apps/api/src/routes/contacts/

  - id: webhooks
    name: Webhooks
    description: Outgoing webhook system for external integrations
    category: integration
    complexity: medium
    requires:
      - queue
    files:
      - packages/features/webhooks/
      - packages/database/src/schema/webhooks.ts
      - packages/validators/src/webhooks.ts
      - apps/api/src/routes/webhooks/

# ─────────────────────────────────────────────────────────────────────────────
# Bundles (Suggested feature combinations for common use cases)
# ─────────────────────────────────────────────────────────────────────────────

bundles:
  - id: minimal
    name: Minimal
    description: Just the essentials
    features:
      - analytics
      - audit

  - id: standard
    name: Standard
    description: Common features for most apps
    features:
      - analytics
      - notifications
      - audit
      - export

  - id: full
    name: Full
    description: All features enabled
    features:
      - payments
      - appointments
      - analytics
      - notifications
      - audit
      - export
      - realtime
      - invoicing
      - file-storage
      - queue
      - crm-contacts
      - webhooks

  - id: crm
    name: CRM System
    description: Customer relationship management
    features:
      - crm-contacts
      - analytics
      - notifications
      - audit
      - webhooks

  - id: erp
    name: ERP System
    description: Enterprise resource planning
    features:
      - crm-contacts
      - invoicing
      - analytics
      - audit
      - export
      - webhooks
